<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>全选、反选操作</title>
<style>
body, ul {
    margin: 0;
    padding: 0;
}
li {
    list-style: none;
}
#list li {
    /* background: #ccc; */
    border-bottom: 1px solid #fff;
}
body {
    background: #333;
}
#wrap {
    padding: 20px;
    margin: 100px auto 0;
    width: 200px;
    background: #fff;
}
#wrap {
    position: relative;
}
#all, #opp {
    position: absolute;
    bottom: 5px;
}
#all {
    left: 20px;
}
#opp {
    right: 20px;
}
</style>
<script>
window.onload = function (){
    var oUl = document.getElementById("list");
    var aLi = oUl.getElementsByTagName("li");
    var aInp = oUl.getElementsByTagName("input");
    var oInp1 = document.getElementById("inp1");
    var oInp2 = document.getElementById("inp2");

        oInp1.onclick = function(){
            if(this.checked){
                for(var i=0; i<aInp.length; i++){
                    aInp[i].checked = true;
                    aLi[i].style.background = "#ccc";
                }
            }
            else{
                for(var i=0; i<aInp.length; i++){
                    aInp[i].checked = false;
                    aLi[i].style.background = "#fff";
                }
            }
        }
        oInp2.onclick = function(){
            for(var i=0; i<aInp.length; i++){
                if(aInp[i].checked){
                    aInp[i].checked = false;
                    aLi[i].style.background = "#fff";
                }
                else{
                    aInp[i].checked = true;
                    aLi[i].style.background = "#ccc";
                }
            }
        }

    for(var i=0; i<aInp.length; i++){
        aLi[i].index = i;
        aInp[i].index = i;
        if(!aInp[i].checked){
            aLi[i].style.background = "#fff";
        }
        else{
            aLi[i].style.background = "#ccc";
        }

        aLi[i].onmouseover = function(){
            if(aInp[this.index].checked){
                return;
            }
            this.style.background = "#ccc";
        }

        aLi[i].onmouseout = function(){
            if(aInp[this.index].checked){
                return;
            }
            this.style.background = "#fff";
        }
        

        aInp[i].onclick = function(){
            oInp();
            if(this.checked){
                aLi[this.index].style.background = "#ccc";
            }
            else{
                aLi[this.index].style.background = "#fff";
            }
        }
    }
    var arr = [];
    function oInp(){
        for(var i=0; i<aInp.length; i++){
            arr[i] = aInp[i].checked;
        }
        var num = 0;
        for(var i=0; i<arr.length; i++){
            if(arr[i] == true){
                num++;
            }
        }
        if(num ==5){
            oInp1.checked = true;
        }
        else{
            oInp1.checked = false;
        }
    }
}
</script>
</head>

<body>
<div id="wrap">
    <ul id="list">
        <li><input type="checkbox" name="今日焦点" value="财经">财经</li>
        <li><input type="checkbox" name="今日焦点" value="汽车" checked="checked">汽车</li>
        <li><input type="checkbox" name="今日焦点" value="科技">科技</li>
        <li><input type="checkbox" name="今日焦点" value="房产">房产</li>
        <li><input type="checkbox" name="今日焦点" value="旅游" checked="checked">旅游</li>
        <hr>
    </ul>
    <ul>
        <li id="all"><input type="checkbox" name="全选" value="全选" id="inp1">全选</li>
        <li id="opp"><input type="checkbox" name="反选" value="反选" id="inp2">反选</li>
    </ul>
</div>
</body>
</html>
